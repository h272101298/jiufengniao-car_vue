webpackJsonp([20],{AtIV:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=a("mtWM"),s=a.n(l),n=a("P9l9"),i={name:"orderList",data:function(){return{orderList:[],cur_page:1,limit:10,total:null,multipleSelection:[],selectStatus_cate:"",selectType_cate:"",select_word:"",del_list:[],is_search:!1,Visible:!1,delVisible:!1,idx:-1,form:{},hasSearch:!1,checkTypeName:"预约卖车",searchList:[],dataValue1:"",dataValue2:""}},created:function(){this.getData()},methods:{handleCurrentChange:function(t){this.cur_page=t,1==this.hasSearch?this.getSecondData():this.getData()},selectStatus:function(t){this.getSecondData()},selectType:function(t){this.getSecondData()},getData:function(){var t=this;s.a.get(n.W,{params:{page:this.cur_page,limit:this.limit}}).then(function(e){t.orderList=e.data.data,t.total=e.data.total})},getSecondData:function(){var t=this;s.a.get(appointSearch,{params:{page:this.cur_page,limit:this.limit,search:this.select_word,start:this.dataValue1,end:this.dataValue2,usertype:this.selectType_cate,type:this.selectStatus_cate}}).then(function(e){t.hasSearch=!0,t.orderList=e.data.data,t.total=e.data.total})},search:function(){this.getSecondData()},check:function(t,e){var a=this;this.Visible=!0,this.checkTypeName="预约"+e.usertype,this.orderType=e,s.a.get(appointDetail,{params:{id:e.id}}).then(function(t){a.form=t.data.data})},handle:function(t,e){var a=this;console.log(e.id),s.a.post(n.X,{id:e.id}).then(function(t){console.log(t),"success"==t.data.msg&&a.getData()})},reset:function(){this.selectStatus_cate="",this.selectType_cate="",this.select_word="",this.dataValue1="",this.dataValue2="",this.cur_page=1,this.getSecondData()},handleDelete:function(t,e){this.delVisible=!0,this.idx=e.id},deleteRow:function(){var t=this;s.a.post(n.Y,{id:this.idx}).then(function(e){"success"==e.data.msg&&(t.delVisible=!1,t.$message.success("删除成功！"),t.getData())})}}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table"},[a("div",{staticClass:"container"},[a("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:t.orderList,border:""}},[a("el-table-column",{attrs:{prop:"name",label:"预约客户",width:"150",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"brand",label:"预约品牌",width:"120",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"type",label:"预约型号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"style",label:"预约款式",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"speed",label:"预约变速箱",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"color",label:"预约颜色",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"phone",label:"预约电话",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"date",label:"预约时间",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.date.slice(0,10)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"deal",label:"处理状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return["已处理"==e.row.deal?a("span",{staticClass:"hasHandle"},[t._v(t._s(e.row.deal))]):a("span",{staticClass:"hasntHandle"},[t._v(t._s(e.row.deal))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"250",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return["未处理"==e.row.deal?a("el-button",{attrs:{type:"primary"},on:{click:function(a){t.handle(e.$index,e.row)}}},[t._v("处理")]):t._e(),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(a){t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total},on:{"current-change":t.handleCurrentChange}})],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"提示",visible:t.delVisible,width:"300px",center:""},on:{"update:visible":function(e){t.delVisible=e}}},[a("div",{staticClass:"del-dialog-cnt"},[t._v("删除不可恢复，是否确定删除？")]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.delVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.deleteRow}},[t._v("确 定")])],1)])],1)},staticRenderFns:[]};var o=a("VU/8")(i,c,!1,function(t){a("u1mh")},"data-v-1059be2a",null);e.default=o.exports},u1mh:function(t,e){}});